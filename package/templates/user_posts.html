{% extends 'layouts.html' %}
{% block content %}
  <h2 class="text-center">Posts by {{user.username}} ({{posts.total}})</h2>
  {% for post in posts.items %}
    <div class="container bg-light rounded text-black d-flex py-3 justify-content-center my-3 flex-md-row flex-column">
      <div class="d-flex align-items-center justify-content-center">
        <img class="rounded-circle" src="{{ url_for('static', filename='profile_pics/' + post.author.image) }}" style="width: 100px;  height: 100px;" />
      </div>
      <div class="flex-fill text-center mx-3 py-3">
        <a class="title fs-4 text-decoration-none text-black" href="{{ url_for('posts.post', id=post.id) }}">{{ post.title }}</a>

        <p class="mt-3">{{ post.content }}</p>
      </div>
      <div class="d-flex flex-md-column justify-content-center flex-wrap">
        <p class="bold fw-4 fs-5 m-0">Published By</p>
        <a href="{{url_for("users.user_post", username=post.author.username)}}" class="text-decoration-none mx-1 pt-1">{{ post.author.username }}</a>
        <p class="m-0 pt-1 mx-1">on</p>
        <p class="pt-1 m-0">{{ post.date_posted.strftime('%d %B %Y') }}</p>
      </div>
    </div>
  {% endfor %}

  <div class="d-flex justify-content-center">
    {% for page in posts.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
      {% if page %}
        {% if posts.page == page %}
          <a href="{{ url_for('users.user_post', page=page, username=user.username) }}" class="btn btn-info border boder-1 mx-1">{{ page }}</a>
        {% else %}
          <a href="{{ url_for('users.user_post', page=page, username=user.username) }}" class="btn btn-light border boder-1 mx-1">{{ page }}</a>
        {% endif %}
      {% else %}
        ...
      {% endif %}
    {% endfor %}
  </div>
{% endblock %}
